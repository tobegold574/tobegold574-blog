---
title: ç¬¬146åœºåŒå‘¨èµ›
date: 2024-12-23 14:26:45
tags:
    - å‘¨èµ›
    - leetcode
---
[ğŸš€ç«èµ›](https://leetcode.cn/contest/biweekly-contest-146/)


## ç»Ÿè®¡ç¬¦åˆæ¡ä»¶é•¿åº¦ä¸º3çš„å­æ•°ç»„æ•°ç›®
### åšé¢˜è¿‡ç¨‹
æ»‘åŠ¨çª—å£å³å¯ã€‚

### ç®—æ³•æ¦‚è¿°
æœ¬é¢˜è¦æ±‚ä¸ºæ±‚å¤šå°‘ä¸ªå­æ•°ç»„ä¸­ç¬¬ä¸€ä¸ªå’Œç¬¬ä¸‰ä¸ªæ•°ä¹‹å’Œä¸ºç¬¬äºŒä¸ªæ•°çš„ä¸€åŠã€‚ ***æ»‘åŠ¨çª—å£*** ç§’äº†ã€‚
- æ—¶é—´å¤æ‚åº¦ä¸ºO(n)
- ç©ºé—´å¤æ‚åº¦ä¸ºO(1)

### JAVA
```java
class Solution {
    public int countSubarrays(int[] nums) {
        int l=0,r=2;
        int ans=0;
        while(r<nums.length){
            // è¦è½¬æ¢æˆæµ®ç‚¹æ•°ï¼Œä¸ç„¶åˆ¤æ–­å¥‡æ•°æˆ–è€…0ã€1ä¼šæœ‰é—®é¢˜
            if((float)nums[l]+nums[r]==(float)nums[(l+r)/2]/2) ans++;
            l++;
            r++;
        }
        return ans;
    }
}
```

### æ€»ç»“
è¦è½¬æ¢ä¸ºæµ®ç‚¹æ•°é¿å…å¥‡æ•°é™¤æ³•åªå–æ•´çš„é—®é¢˜ã€‚


## ç»Ÿè®¡å¼‚æˆ–å€¼ä¸ºç»™å®šå€¼çš„è·¯å¾„æ•°ç›®
### åšé¢˜è¿‡ç¨‹
ä½¿ç”¨äº†æ·±åº¦ä¼˜å…ˆæœç´¢éå†æ‰€æœ‰è·¯å¾„ï¼Œä½¿ç”¨äº†å“ˆå¸Œè¡¨è¿›è¡Œè®°å¿†åŒ–æœç´¢å‰ªæä¼˜åŒ–ï¼Œä½†æ˜¯æ—¶é—´è¿˜æ˜¯è¶…äº†ã€‚å› ä¸ºå“ˆå¸Œé›†åˆçš„æŸ¥æ‰¾å¼€é”€è¿˜æ˜¯é«˜ï¼Œå³ä½¿æ˜¯å¸¸æ•°ï¼ˆæ¯•ç«Ÿæ˜¯hashğŸ¥”ï¼‰ã€‚
### ç®—æ³•æ¦‚è¿°
æœ¬é¢˜è¦æ±‚ä½è·¯å¾„ä¸Šæ‰€æœ‰å€¼çš„å¼‚æˆ–å€¼å¿…é¡»ä¸ºç»™å®šå€¼ï¼Œç»Ÿè®¡ç¬¦åˆè¦æ±‚çš„è·¯å¾„æ•°ã€‚é‡‡ç”¨çµç¥çš„è§£æ³•ï¼Œç”¨ ***åŠ¨æ€è§„åˆ’*** æ›¿ä»£æ•£åˆ—é›†ã€‚
- æ—¶é—´å¤æ‚åº¦ä¸ºO(m\*n\*u)ï¼šuæ˜¯æœ€å¤§çš„å¼‚æˆ–å€¼èŒƒå›´ï¼Œæœ€åæƒ…å†µä¸‹èŒƒå›´å†…æ¯ä¸ªå¼‚æˆ–å€¼éƒ½å¯èƒ½å‡ºç°
- ç©ºé—´å¤æ‚åº¦ä¸ºO(m\*n\*u)ï¼šdpæ•°ç»„

### JAVA
```java
class Solution {
    private static final int MOD = 1_000_000_007;

    public int countPathsWithXorValue(int[][] grid, int k) {
        int mx = 0;
        for (int[] row : grid) {
            for (int val : row) {
                mx = Math.max(mx, val);
            }
        }
        // è®¡ç®—å¼‚æˆ–å€¼èŒƒå›´
        int u = 1 << (32 - Integer.numberOfLeadingZeros(mx));
        // å¦‚æœKæ¯”æœ€å¤§çš„å¼‚æˆ–å€¼è¿˜è¦å¤§ï¼Œé‚£å°±æ²¡æœ‰è·¯å¾„
        if (k >= u) {
            return 0;
        }
    
        int m = grid.length;
        int n = grid[0].length;
        // è®°å¿†åŒ–æœç´¢(dpæ•°ç»„)
        int[][][] memo = new int[m][n][u];
        for (int[][] mat : memo) {
            for (int[] row : mat) {
                Arrays.fill(row, -1);
            }
        }
        // é€†å‘æœç´¢
        return dfs(grid, m - 1, n - 1, k, memo);
    }

    private int dfs(int[][] grid, int i, int j, int x, int[][][] memo) {
        // è¶Šæ²¡è¶Šç•Œ
        if (i < 0 || j < 0) {
            return 0;
        }
        int val = grid[i][j];
        // å›åˆ°èµ·ç‚¹äº†
        if (i == 0 && j == 0) {
            return x == val ? 1 : 0;
        }
        // æˆ‘åŸæ¥ç”¨çš„æ˜¯å“ˆå¸Œé›†åˆ
        if (memo[i][j][x] != -1) {
            return memo[i][j][x];
        }
        // ç§»åŠ¨
        int left = dfs(grid, i, j - 1, x ^ val, memo);
        int up = dfs(grid, i - 1, j, x ^ val, memo);
        // è®¡ç®—å¼‚æˆ–å€¼ï¼ˆé€†åºéœ€è¦è¿™æ ·æ”¾ï¼‰
        return memo[i][j][x] = (left + up) % MOD;
    }
}
```

#### é‡è¦å®ä¾‹æ–¹æ³•åŠå±æ€§(JAVA)
- `Integer.numberOfLeadingZeros(mx)`ï¼šè®¡ç®—å‰å¯¼0çš„æ•°é‡
- `<<1`ï¼šç”Ÿæˆä¸€ä¸ª2çš„å¹‚æ¬¡æ–¹çš„æ•°å­—
- `int u = 1 << (32 - Integer.numberOfLeadingZeros(mx));`ï¼šè®¡ç®—å¼‚æˆ–å€¼çš„æœ€å¤§èŒƒå›´

### æ€»ç»“
**é‡è¦ğŸ˜ ** ï¼š
- å“ˆå¸Œé›†åˆçš„å¸¸æ•°æ—¶é—´ **ä¸å¦‚** è®°å¿†åŒ–æœç´¢ï¼
- é€†åºæœç´¢æ›´æ˜“äºå¤„ç†è¾¹ç•Œï¼Œåœ¨å…¶ä»–ç±»å‹çš„é¢˜ç›®ä¸­(e.g., ç¬¦åˆæ¡ä»¶çš„è·¯å¾„)è¿˜èƒ½å‰ªæ
- ç”¨ **è¦æ±‚æ¡ä»¶çš„æœ€å¤§å€¼** ä½œä¸ºå¤šç»´åŠ¨æ€è§„åˆ’çš„ **ç¬¬ä¸‰ç»´** ï¼