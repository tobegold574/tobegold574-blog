---
title: 滑动窗口 --面试经典150题
date: 2024-12-16 20:34:44
tags:
    - 滑动窗口
    - 面试经典150题
    - leetcode
---

## 长度最小的子数组(medium)
### 做题过程
用两个判断分别管理左右边界，实际上是错误的结构，需要更多的判断防止越界。

### 算法概述
[原题](https://leetcode.cn/problems/minimum-size-subarray-sum/description/?envType=study-plan-v2&envId=top-interview-150)

本题要求为计算和大于等于目标值的最短的子数组的长度。
- 时间复杂度为O(n)
- 空间复杂度为O(1)

### JAVA
```java
class Solution {
    public int minSubArrayLen(int target, int[] nums) {
        int l = 0, r = 0;
        int sum = 0; 
        int ans = Integer.MAX_VALUE;
        
        // 注意：数组有可能是空的，提前检查
        if (nums.length == 0) {
            return 0;
        }

        while (r < nums.length) {
            // 增加 sum 和右指针
            sum += nums[r];
            
            // 如果当前和大于等于 target，移动左指针来缩小窗口
            while (sum >= target) {
                ans = Math.min(ans, r - l + 1);  // 计算窗口大小
                sum -= nums[l];  // 移动左指针
                l++;
            }
            
            // 移动右指针
            r++;
        }
        
        // 如果找不到符合条件的子数组，返回 0
        return ans == Integer.MAX_VALUE ? 0 : ans;
    }
}
```

### 总结
**右边界更新应该在左边界的外部** ，左边界需要 **另外一个循环** 来控制移动，两者不能平行。


 
